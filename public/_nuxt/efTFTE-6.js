import{s as o,p as t}from"./BqIvsgjQ.js";const n=o("movies",{state:()=>({movies:[],genresQuery:"",sortQuery:"popularity.desc",keywordsQuery:"",page:1}),actions:{async fetchMovies(){const e=t(),s=await $fetch(`${e.public.baseUrl}discover/movie?page=${this.page=1}&sort_by=${this.sortQuery}&with_keywords=${this.keywordsQuery}&with_genres=${this.genresQuery}`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e.public.apiKey}`}});this.movies=s.results},async fetchNextPage(){const e=t(),s=await $fetch(`${e.public.baseUrl}movie/top_rated?page=${++this.page}`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e.public.apiKey}`}});this.movies.push(...s.results)},async getGenres(){const e=t();return(await $fetch(`${e.public.baseUrl}genre/movie/list`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e.public.apiKey}`}})).genres},async getLanguages(){const e=t();return await $fetch(`${e.public.baseUrl}configuration/languages`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${e.public.apiKey}`}})},async getMovieDetails(e){const s=t();return await $fetch(`${s.public.baseUrl}movie/${e}`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${s.public.apiKey}`}})},async getMovieKeywords(e){const s=t();return(await $fetch(`${s.public.baseUrl}movie/${e}/keywords`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${s.public.apiKey}`}})).keywords},async setKeywordsByQuery(e){const s=t(),a=await $fetch(`${s.public.baseUrl}search/keyword?query=${e}`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${s.public.apiKey}`}});a.results.length>0?this.keywordsQuery=a.results[0].id.toString():this.keywordsQuery=""},async getLanguageNameByISO(e){const a=(await this.getLanguages()).find(i=>i.iso_639_1===e);return a?a.english_name:""}}});export{n as u};
