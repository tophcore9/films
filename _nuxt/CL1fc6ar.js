import{_ as b,a as w,u as S}from"./rjqrtGoA.js";import{_ as y}from"./CwLUvgaq.js";import{u as P}from"./D1uw7x9j.js";import{u as I}from"./DRxRo6B9.js";import{g as F,q as B,s as $,_ as C,c as t,a as e,x as D,d as g,t as i,b as r,k as v,F as h,r as f,w as R,o as n}from"./BiWbyD0p.js";const L=F({name:"movie-[movie_id]",components:{GenericCardList:y,Button:w,Icon:b},data(){return{moviesStore:P(),peopleStore:I(),favoritesStore:S(),movie:{},moviePeople:{},movieKeywords:[],isInFavorites:!1,movieReleaseDate:new Date,movieLanguage:"",userScore:""}},methods:{getImageUrl(s,o="original"){return`${$().public.imagesUrl}${o}/${s}`},handleFavoriteToggling(){this.favoritesStore.toggleMovieInFavorites(this.movie),this.isInFavorites=!this.isInFavorites},findPersonByJob(s){const o=this.moviePeople.crew.find(l=>l.job===s);if(o)return o},formatRuntime(s){const o=Math.floor(s/60),l=s%60;return`${o}h ${l}m`}},async mounted(){const s=B(),o=Number(s.params.movie_id);this.movie=await this.moviesStore.getMovieDetails(o),this.moviePeople=await this.peopleStore.getMoviePeople(o),this.movieKeywords=await this.moviesStore.getMovieKeywords(o),this.isInFavorites=this.favoritesStore.isMovieInFavorites(o),this.movieReleaseDate=new Date(this.movie.release_date),this.movieLanguage=await this.moviesStore.getLanguageNameByISO(this.movie.original_language),this.userScore=this.movie.vote_average.toFixed(1)}}),M={class:"_wrapper"},N={class:"movie-container"},j={class:"movie-banner"},J=["src"],K={class:"banner-content"},U={class:"_title-1"},O={class:"movie-year"},T={class:"movie-keys"},V={class:"movie-key"},q={key:0},G={class:"movie-key"},z={class:"movie-key"},A={class:"movie-quote"},E={class:"movie-overview"},Y={class:"movie-statistics"},H={key:0,class:"clue-person__block"},Q={class:"_title-3"},W={class:"clue-person__job"},X={key:1,class:"clue-person__block"},Z={class:"_title-3"},x={class:"clue-person__job"},ee={class:"user-score"},se={class:"user-score-circle"},oe={class:"user-score-value"},ie={class:"movie-info"},te={class:"movie-people__block"},ne={class:"movie-details"},re={class:"details-block"},le={class:"details-block"},ae={class:"details-block"},de={class:"details-block"},ve={class:"details-block"},me={class:"keywords"},ue={class:"keyword"};function ce(s,o,l,_e,pe,ge){var u,c,_,p;const a=b,m=y,k=w;return n(),t("div",M,[e("div",N,[e("div",j,[e("div",{class:"movie-banner__image",style:D({backgroundImage:`url(${s.getImageUrl(s.movie.backdrop_path)}`})},null,4),e("img",{class:"movie-banner__poster",width:"275",src:s.getImageUrl(s.movie.poster_path,"w300"),alt:"NO"},null,8,J),e("div",K,[e("h1",U,[g(i(s.movie.title)+" ",1),e("span",O,"("+i(s.movieReleaseDate.getFullYear())+")",1)]),e("div",T,[e("div",V,[r(a,{height:"1rem",width:"1rem",url:"../icons/film-publishing-date.svg"}),s.movie.origin_country!==void 0?(n(),t("div",q,i(s.movie.release_date)+" ("+i(s.movie.origin_country[0])+") ",1)):v("",!0)]),o[0]||(o[0]=e("div",{class:"separator"},null,-1)),e("div",G,[r(a,{height:"1rem",width:"1rem",url:"../icons/film-timeline.svg"}),e("div",null,i(s.formatRuntime(s.movie.runtime)),1)]),o[1]||(o[1]=e("div",{class:"separator"},null,-1)),e("div",z,[r(a,{height:"1rem",width:"1rem",url:"../icons/film-genres.svg"}),(n(!0),t(h,null,f(s.movie.genres,d=>(n(),t("div",null,i(d.name),1))),256))])]),e("div",A,i(s.movie.tagline),1),e("div",null,[o[2]||(o[2]=e("h3",{class:"_title-3"},"Overview",-1)),e("div",E,i(s.movie.overview),1)]),e("div",Y,[s.moviePeople.crew!==void 0?(n(),t("div",H,[e("div",Q,i((u=s.findPersonByJob("Director"))==null?void 0:u.name),1),e("div",W,i((c=s.findPersonByJob("Director"))==null?void 0:c.job),1)])):v("",!0),o[4]||(o[4]=e("div",{class:"separator"},null,-1)),s.moviePeople.crew!==void 0?(n(),t("div",X,[e("div",Z,i((_=s.findPersonByJob("Producer"))==null?void 0:_.name),1),e("div",x,i((p=s.findPersonByJob("Producer"))==null?void 0:p.job),1)])):v("",!0),o[5]||(o[5]=e("div",{class:"separator"},null,-1)),e("div",ee,[e("div",se,[e("div",oe,i(s.userScore),1)]),o[3]||(o[3]=e("p",null,"User Score",-1))])])])]),e("div",ie,[e("div",te,[o[6]||(o[6]=e("h2",{class:"_title-2"},"Top Billed Cast",-1)),e("div",null,[r(m,{"cast-members":s.moviePeople.cast},null,8,["cast-members"])]),o[7]||(o[7]=e("h2",{class:"_title-2"},"Crew",-1)),e("div",null,[r(m,{"crew-members":s.moviePeople.crew},null,8,["crew-members"])])]),e("div",ne,[e("div",re,[o[8]||(o[8]=e("h3",{class:"_title-3"},"Status",-1)),e("p",null,i(s.movie.status),1)]),e("div",le,[o[9]||(o[9]=e("h3",{class:"_title-3"},"Original Language",-1)),e("p",null,i(s.movieLanguage),1)]),e("div",ae,[o[10]||(o[10]=e("h3",{class:"_title-3"},"Budget",-1)),e("p",null,"$"+i(s.movie.budget),1)]),e("div",de,[o[11]||(o[11]=e("h3",{class:"_title-3"},"Revenue",-1)),e("p",null,"$"+i(s.movie.revenue),1)]),e("div",ve,[o[12]||(o[12]=e("h3",{class:"_title-3"},"Keywords",-1)),e("div",me,[(n(!0),t(h,null,f(s.movieKeywords,d=>(n(),t("div",ue,i(d.name),1))),256))])]),r(k,{onClick:s.handleFavoriteToggling},{default:R(()=>[g(i(s.isInFavorites?"Remove from favorites":"Add to favorites"),1)]),_:1},8,["onClick"])])])])])}const ke=C(L,[["render",ce],["__scopeId","data-v-534dd200"]]);export{ke as default};
