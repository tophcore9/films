import{_ as y,a as _,u as I}from"./rjqrtGoA.js";import{g as w,s as F,_ as M,c as i,o as r,k as m,z as c,n as p,a as s,b as v,t as n,w as g,A as b,F as l,r as u,B as T,C as h}from"./BiWbyD0p.js";const S=w({name:"GenericCard",components:{Button:_,Icon:y},data(){return{imageWidth:200,favoritesStore:I(),isFavorite:!1}},props:{movie:{type:Object,default:void 0},person:{type:Object,default:void 0},castMember:{type:Object,default:void 0},crewMember:{type:Object,default:void 0}},methods:{getImageUrl(){const e=F();let t="";if(this.person!==void 0&&this.person.profile_path!==null)t=this.person.profile_path;else if(this.movie!==void 0&&this.movie.poster_path!==null)t=this.movie.poster_path;else if(this.castMember!==void 0&&this.castMember.profile_path!==null)t=this.castMember.profile_path;else if(this.crewMember!==void 0&&this.crewMember.profile_path!==null)t=this.crewMember.profile_path;else return"../icons/no_picture.png";return`${e.public.imagesUrl}w${this.imageWidth}/${t}`},formatDate(e){if(e==="")return"No data";const t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)}}}),B=["src"],U={class:"card-body"},O={class:"_title-4"},j={class:"card-text"},A=["src"],P={class:"card-body"},D={class:"_title-4"},N={class:"card-text"},H=["src"],L={class:"card-body"},V={class:"_title-4"},G={class:"card-text"},W=["src"],q={class:"card-body"},z={class:"_title-4"},E={class:"card-text"};function R(e,t,f,$,k,C){const a=y,o=_;return r(),i(l,null,[e.movie!==void 0&&e.movie.poster_path!==null?(r(),i("div",{key:0,onClick:t[1]||(t[1]=d=>("navigateTo"in e?e.navigateTo:c(p))(`/movies/movie-${e.movie.id}`)),class:"card"},[s("img",{class:"card-image",src:e.getImageUrl(),alt:"no"},null,8,B),s("div",U,[s("h4",O,n(e.movie.title),1),s("p",j,n(e.formatDate(e.movie.release_date)),1),v(o,{onClick:t[0]||(t[0]=b(d=>e.favoritesStore.toggleMovieInFavorites(e.movie),["stop"])),class:"is-favorite",rounded:"",width:"3rem",height:"3rem"},{default:g(()=>[v(a,{width:"1.5rem",height:"1.5rem",url:e.favoritesStore.isMovieInFavorites(e.movie.id)?"/icons/card-favorite-active.svg":"/icons/card-favorite.svg"},null,8,["url"])]),_:1})])])):m("",!0),e.person!==void 0?(r(),i("div",{key:1,onClick:t[3]||(t[3]=d=>("navigateTo"in e?e.navigateTo:c(p))(`/people/person-${e.person.id}`)),class:"card"},[s("img",{class:"card-image",src:e.getImageUrl(),alt:"no"},null,8,A),s("div",P,[s("h4",D,n(e.person.name),1),s("p",N,n(e.person.known_for_department),1)]),v(o,{onClick:t[2]||(t[2]=b(d=>e.favoritesStore.togglePersonInFavorites(e.person),["stop"])),class:"is-favorite",rounded:"",width:"3rem",height:"3rem"},{default:g(()=>[v(a,{width:"1.5rem",height:"1.5rem",url:e.favoritesStore.isPersonInFavorites(e.person.id)?"/icons/card-favorite-active.svg":"/icons/card-favorite.svg"},null,8,["url"])]),_:1})])):m("",!0),e.castMember!==void 0&&e.castMember.profile_path!==null?(r(),i("div",{key:2,onClick:t[4]||(t[4]=d=>("navigateTo"in e?e.navigateTo:c(p))(`/people/person-${e.castMember.id}`)),class:"card"},[s("img",{class:"card-image",src:e.getImageUrl(),alt:"no"},null,8,H),s("div",L,[s("h4",V,n(e.castMember.name),1),s("p",G,n(e.castMember.character),1)])])):m("",!0),e.crewMember!==void 0&&e.crewMember.profile_path!==null?(r(),i("div",{key:3,onClick:t[5]||(t[5]=d=>("navigateTo"in e?e.navigateTo:c(p))(`/people/person-${e.crewMember.id}`)),class:"card"},[s("img",{class:"card-image",src:e.getImageUrl(),alt:"no"},null,8,W),s("div",q,[s("h4",z,n(e.crewMember.name),1),s("p",E,n(e.crewMember.job),1)])])):m("",!0)],64)}const J=M(S,[["render",R],["__scopeId","data-v-400b6c3b"]]),K=w({name:"CardList",components:{Card:J},props:{movies:{type:Array,default:[]},people:{type:Array,default:[]},castMembers:{type:Array,default:[]},crewMembers:{type:Array,default:[]},nextPageHandler:{type:Function}},mounted(){const e=new IntersectionObserver(f=>{f[0].isIntersecting&&this.nextPageHandler&&this.nextPageHandler()}),t=document.querySelector("#end-of-list");t&&e.observe(t)}}),Q={class:"card-list"};function X(e,t,f,$,k,C){const a=T("Card");return r(),i(l,null,[s("div",Q,[e.movies.length>0?(r(!0),i(l,{key:0},u(e.movies,o=>(r(),h(a,{movie:o,key:o.id},null,8,["movie"]))),128)):e.people.length>0?(r(!0),i(l,{key:1},u(e.people,o=>(r(),h(a,{person:o,key:o.id},null,8,["person"]))),128)):e.castMembers.length>0?(r(!0),i(l,{key:2},u(e.castMembers,o=>(r(),h(a,{"cast-member":o,key:o.id},null,8,["cast-member"]))),128)):e.crewMembers.length>0?(r(!0),i(l,{key:3},u(e.crewMembers,o=>(r(),h(a,{"crew-member":o,key:o.id},null,8,["crew-member"]))),128)):m("",!0)]),t[0]||(t[0]=s("div",{id:"end-of-list"},null,-1))],64)}const x=M(K,[["render",X],["__scopeId","data-v-bcb6ad47"]]);export{x as _};
